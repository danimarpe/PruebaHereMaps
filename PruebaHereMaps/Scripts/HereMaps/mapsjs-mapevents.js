H.util.eval("function Oi(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body,c;try{c=a.getBoundingClientRect()}catch(d){c={top:0,right:0,bottom:0,left:0,height:0,width:0}}return{x:c.left+(\"number\"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:c.top+(\"number\"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}var Pi=/Edge\\/\\d+/.test(navigator.appVersion),Qi=Function(\"return this\")();function Ri(a,b,c,d,e,f,g){Ri.a.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}u(Ri,ec);r(\"H.mapevents.Event\",Ri);function Si(a,b,c,d,e,f){if(isNaN(a))throw Error(\"x needs to be a number\");if(isNaN(b))throw Error(\"y needs to be a number\");if(isNaN(c))throw Error(\"pointer must have an id\");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.Dj=this.button=e!==z?e:-1;this.buttons=f!==z?f:0}r(\"H.mapevents.Pointer\",Si);\nfunction Ti(a,b,c){if(isNaN(b))throw Error(\"x needs to be a number\");if(isNaN(c))throw Error(\"y needs to be a number\");a.viewportX=b;a.viewportY=c}Si.prototype.zv=function(){return this.Dj};Si.prototype.getLastChangedButton=Si.prototype.zv;function Ui(a,b){a.Dj=b;a.buttons|=Si.prototype.Fp[+b]||0}function Vi(a,b){a.Dj=b;a.buttons&=~(Si.prototype.Fp[+b]||0)}Si.prototype.Fp=[1,4,2];var Wi={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Si.Button=Wi;function Xi(a){this.da=a instanceof Array?a.slice(0):[]}m=Xi.prototype;m.clear=function(){this.da.splice(0,this.da.length)};m.length=function(){return this.da.length};m.item=function(a){return this.da[a]};m.indexOf=function(a){for(var b=this.da.length;b--;)if(this.da[b].id===a)return b;return-1};function Yi(a,b){var c=a.indexOf(b);return-1!==c?a.da[c]:null}m.remove=function(a){a=this.indexOf(a);return-1!==a?this.da.splice(a,1)[0]:null};\nfunction Zi(a,b){for(var c=a.da.length,d=[];c--;)a.da[c].type!==b&&d.push(a.da[c]);a.da=d}function $i(a,b){for(var c=a.da.length;c--;)if(a.da[c].dragTarget===b)return!0;return!1}m.push=function(a){if(a instanceof Si)return this.da.push(a);throw Error(\"list needs a pointer\");};m.md=function(){return this.da};m.i=function(){return new Xi(this.da)};function aj(a,b,c){c=c||{};if(!(a instanceof R))throw Error(\"events: map instance required\");if(!(b instanceof Array))throw Error(\"events: map array required\");yb.call(this);this.Tl=c.Tl||300;this.Pp=c.Pp||50;this.ft=c.ft||50;this.gt=c.gt||500;this.kn=c.kn||900;this.lr=c.lr||50;this.map=a;this.ya=this.map.q;this.element=this.ya.element;this.gm=b;this.na=new Xi;this.Ia=new Xi;this.me={};this.ja=null;this.jj=!0;this.Nh={};this.Ih={};this.Eh=null;this.Rg=v(this.Rg,this);this.Ru={pointerdown:this.Ju,\npointermove:this.Ku,pointerup:this.Lu,pointercancel:this.Iu};bj(this)}u(aj,yb);function bj(a,b){for(var c,d,e=0,f=a.gm.length,e=0;e<f;e++)d=a.gm[e],c=d.C,\"function\"===typeof c&&(b?(d.target||a.element).removeEventListener(d.Ba,c):(d.target||a.element).addEventListener(d.Ba,c))}\nfunction cj(a,b,c){var d,e=a.Ru[b],f,g;if(\"function\"===typeof e)for(\"pointermove\"!==b&&(a.jj=!0),f=0,g=a.Ia.length();f<g;f++)b=a.Ia.item(f),a.element.contains(c.target)?(d=a,d=d.ja===b?b.target:0<=b.viewportX&&b.viewportX<d.ya.width&&0<=b.viewportY&&b.viewportY<d.ya.height?d.map.rh(b.viewportX,b.viewportY)||d.map:null):d=null,dj(b.id,a.Nh),e.call(a,b,d,c);a.Ia.clear()}m=aj.prototype;\nm.Lu=function(a,b,c){a.target=b;ej(this,a,c);fj(this,b,\"pointerup\",c,a);\"mouse\"!==a.type&&fj(this,b,\"pointerleave\",c,a);b=this.me[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.Eh;b&&b.target===f&&b.vl.distance(d)<this.ft&&e-b.So<this.gt?(fj(this,f,\"tap\",c,a),g&&g.target===f&&e-g.So<this.Tl?g.vl.distance({x:a.viewportX,y:a.viewportY})<this.Pp&&(fj(this,f,\"dbltap\",c,a),this.Eh=null):this.Eh={target:f,vl:new G(a.viewportX,a.viewportY),So:c.timeStamp}):this.Eh=null;this.me=\n{};dj(a.id,this.Ih)};function ej(a,b,c){b===a.ja&&(fj(a,b.dragTarget,\"dragend\",c,b),a.ja=null,dj(b.id,a.Nh));b.dragTarget=null}m.Rg=function(a,b){var c=this;fj(this,a.dragTarget,\"drag\",b,a);dj(a.id,this.Nh);this.Nh[a.id]=setTimeout(function(){c.Rg(a,b)},150)};function dj(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}\nfunction gj(a,b,c){var d=b.target,e=new G(b.viewportX,b.viewportY),f=b.id;dj(f,a.Ih);a.Ih[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.lr&&(fj(a,d,\"longpress\",c,b),delete a.me[b.id])},a.kn)}\nm.Ku=function(a,b,c){var d=a.dragTarget,e=a.id,f;f=a.target;a.target=b;f!==b&&(fj(this,f,\"pointerleave\",c,a),fj(this,b,\"pointerenter\",c,a));d?this.ja?this.Rg(a,c):this.jj?this.jj=!1:(this.ja=a,fj(this,d,\"dragstart\",c,a),this.Rg(a,c),delete this.me[e],this.jj=!0):(!this.ja||this.ja&&this.ja.dragTarget!==b&&this.ja.dragTarget!==this.map)&&fj(this,b,\"pointermove\",c,a)};\nm.Ju=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button),e;b&&(a.target=b,this.me[a.id]={vl:new G(a.viewportX,a.viewportY),target:a.target,So:c.timeStamp},\"mouse\"!==a.type&&fj(this,b,\"pointerenter\",c,a),e=fj(this,b,\"pointerdown\",c,a),!this.ja&&d&&(b.draggable&&!$i(this.na,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||$i(this.na,this.map)||(a.dragTarget=this.map)),gj(this,a,c))};\nm.Iu=function(a,b,c){a.target=null;b?(fj(this,b,\"pointerleave\",c,a),fj(this,b,\"pointercancel\",c,a)):fj(this,this.map,\"pointercancel\",c,a);ej(this,a,c);this.me={};dj(a.id,this.Ih)};function fj(a,b,c,d,e){var f;if(b&&\"function\"===typeof b.dispatchEvent){f=Ri;var g=a.na.md(),h=a.Ia.md();a=a.na;var k,l=a.da.length,n=[];for(k=0;k<l;k++)a.da[k].target===b&&n.push(a.da[k]);f=new f(c,g,h,n,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.Dj:Wi.NONE;b.dispatchEvent(f)}return f}\nm.c=function(){bj(this,!0);this.na.clear();this.Ia.clear();var a=this.Nh,b;for(b in a)dj(b,a);var a=this.Ih,c;for(c in a)dj(c,a);this.ja=this.me=this.Eh=this.map=this.Ia=this.na=this.gm=this.ba=null;yb.prototype.c.call(this)};function hj(a){this.zf=v(this.zf,this);aj.call(this,a,[{Ba:\"touchstart\",C:this.zf},{Ba:\"touchmove\",C:this.zf},{Ba:\"touchend\",C:this.zf},{Ba:\"touchcancel\",C:this.zf}]);this.kt={touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",touchcancel:\"pointercancel\"};this.Nq=(a=(a=a.oc)?a.f():null)?Array.prototype.slice.call(a.querySelectorAll(\"a\"),0):[]}u(hj,aj);\nhj.prototype.zf=function(a){var b=a.touches,c=this.na.length(),d;if(\"touchstart\"===a.type&&c>=b.length){c=this.na.i();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.na.remove(c.item(d).id);this.Ia=c;cj(this,\"pointercancel\",a);this.Ia.clear()}if(this.kt[a.type]){b=Oi(this.ya.element);c=a.type;d=a.changedTouches;var e=d.length,f,g,h,k,l,n;this.Ia.clear();for(n=0;n<e;n++)if(h=d[n],l=Yi(this.na,h.identifier),f=h.pageX-b.x,g=h.pageY-b.y,l)if(\"touchmove\"===c){if(h=Math.abs(l.viewportX-\nf),k=Math.abs(l.viewportY-g),1<h||1<k||1===h&&1===k)Ti(l,f,g),this.Ia.push(l)}else\"touchend\"===c&&(this.na.remove(l.id),this.Ia.push(l),Vi(l,Wi.LEFT));else l=new Si(f,g,h.identifier,\"touch\",Wi.LEFT,1),this.na.push(l),this.Ia.push(l);cj(this,this.kt[a.type],a);-1===this.Nq.indexOf(a.target)&&a.preventDefault()}};hj.prototype.c=function(){this.Nq=null;aj.prototype.c.call(this)};function ij(a){var b=[],b=jj(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({Ba:\"MSHoldVisual\",C:\"prevent\"});aj.call(this,a,b)}u(ij,aj);function jj(a){var b=navigator.pointerEnabled,c,d,e=[];a.Nm=v(a.Nm,a);\"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver\".split(\" \").forEach(function(f){c=f.toLowerCase().replace(/ms/g,\"\");d=b?c:f;e.push({Ba:d,C:a.Nm,target:\"MSPointerUp\"===f||\"MSPointerMove\"===f?window:null})});return e}\nvar kj={2:\"touch\",3:\"pen\",4:\"mouse\"};ij.prototype.Ol=function(a,b){var c;c=a.pointerType;\"number\"===typeof c&&(c=kj[c]);c=new Si(b.x,b.y,a.pointerId,c,a.button,a.buttons);this.na.push(c);return c};\nij.prototype.Nm=function(a){var b=navigator.Cx?a.type:a.type.toLowerCase().replace(/ms/g,\"\"),c=Oi(this.element),d=Yi(this.na,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=kj[a.pointerType]||a.pointerType;Pi&&\"rtl\"===y.getComputedStyle(this.ya.element).direction&&(e-=(y.devicePixelRatio-1)*this.ya.width);d||b in{pointerup:1,pointerout:1,pointercancel:1}||\"touch\"===f&&\"pointerdown\"!==b||(d=this.Ol(a,{x:e,y:c}));d&&(b in{pointerup:1,pointercancel:1}?(\"touch\"===f&&this.na.remove(d.id),Vi(d,a.button)):\"pointerdown\"===\nb&&(\"touch\"===a.pointerType&&(Zi(this.na,\"mouse\"),Zi(this.na,\"pen\")),Ui(d,a.button)),this.Ia.push(d),\"pointermove\"!==b?(Ti(d,e,c),cj(this,\"pointerout\"===b||\"pointerover\"===b?\"pointermove\":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(Ti(d,e,c),cj(this,b,a)));this.Ia.clear()};function lj(a,b,c,d){lj.a.constructor.call(this,\"contextmenu\");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}u(lj,ec);r(\"H.mapevents.ContextMenuEvent\",lj);function mj(a){this.Km=v(this.Km,this);this.Mm=v(this.Mm,this);this.Lm=v(this.Lm,this);this.nk=!1;this.nf=-1;this.cr=0;mj.a.constructor.call(this,a,[{Ba:\"contextmenu\",C:this.Km},{target:a,Ba:\"longpress\",C:this.Mm},{target:a,Ba:\"dbltap\",C:this.Lm}])}u(mj,aj);m=mj.prototype;m.Mm=function(a){var b=a.currentPointer;\"touch\"===b.type&&1===a.pointers.length&&nj(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};m.Lm=function(a){\"touch\"===a.currentPointer.type&&(this.cr=Date.now())};\nm.Km=function(a){var b=this;-1===this.nf?this.nf=setTimeout(function(){var c=Oi(b.element),d=a.pageX-c.x,c=a.pageY-c.y;b.nf=-1;nj(b,d,c,a)},this.Tl):(clearInterval(this.nf),this.nf=-1);a.preventDefault()};function nj(a,b,c,d,e){var f=a.map;e=e||f.rh(b,c)||f;var g=Date.now()-a.cr;!a.nk&&g>a.kn&&(a.nk=!0,e.dispatchEvent(new lj(b,c,e,d)),Eg(f.f(),a.gp,a.Up,!1,a))}m.gp=[\"mousedown\",\"touchstart\",\"pointerdown\",\"wheel\"];\nm.Up=function(){this.nk&&(this.nk=!1,this.map.dispatchEvent(new ec(\"contextmenuclose\",this.map)))};m.c=function(){var a=this.map.f();clearInterval(this.nf);a&&Gg(a,this.gp,this.Up,!1,this);aj.prototype.c.call(this)};function oj(a,b,c,d,e){oj.a.constructor.call(this,\"wheel\");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}u(oj,ec);r(\"H.mapevents.WheelEvent\",oj);function pj(a){var b=\"onwheel\"in document;this.Pt=b;this.Mt=(b?\"d\":\"wheelD\")+\"elta\";this.Om=v(this.Om,this);pj.a.constructor.call(this,a,[{Ba:(b?\"\":\"mouse\")+\"wheel\",C:this.Om}]);this.q=this.map.q}u(pj,aj);\npj.prototype.normalize=function(a,b,c){var d=this.Mt,e=a[d+(d+\"Y\"in a?\"Y\":\"\")],f,g,h;Pi&&\"rtl\"===y.getComputedStyle(this.q.element).direction&&(b-=(y.devicePixelRatio-1)*this.q.width);e&&(h=Math.abs,f=h(e),e=(!(g=a[d+\"X\"])||3<=f/h(g))&&(!(g=a[d+\"Z\"])||3<=f/h(g))?((0<e)-(0>e))*(this.Pt?1:-1):0);return new oj(e,b,c,null,a)};\npj.prototype.Om=function(a){var b=Oi(this.element);a=this.normalize(a,a.pageX-b.x,a.pageY-b.y);a.delta&&((a.target=b=this.map.Ca(a.viewportX,a.viewportY)[0])&&xa(b.dispatchEvent)&&b.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))};function qj(a){var b=window;this.he=v(this.he,this);aj.call(this,a,[{Ba:\"mousedown\",C:this.he},{Ba:\"mousemove\",C:this.he,target:b},{Ba:\"mouseup\",C:this.he,target:b},{Ba:\"mouseover\",C:this.he},{Ba:\"mouseout\",C:this.he},{Ba:\"dragstart\",C:this.lk}])}u(qj,aj);qj.prototype.Ol=function(a,b){var c=new Si(b.x,b.y,1,\"mouse\");this.na.push(c);return c};\nqj.prototype.he=function(a){var b=a.type,c=Oi(this.element),d={x:a.pageX-c.x,y:a.pageY-c.y},c=this.na.item(0)||this.Ol(a,d);this.Ia.push(c);Ti(c,d.x,d.y);/^mouse(?:move|over|out)$/.test(b)?cj(this,\"pointermove\",a):(/^mouse(down|up)$/.test(b)&&(d=a.which-1,\"up\"===Qi.RegExp.$1?Vi(c,d):Ui(c,d)),cj(this,b.replace(\"mouse\",\"pointer\"),a));this.Ia.clear()};qj.prototype.lk=function(a){a.preventDefault()};function rj(a){var b=a.q.element.style;if(-1!==sj.indexOf(a))throw Error(\"InvalidArgument: map is already in use\");this.b=a;sj.push(a);b.msTouchAction=b.touchAction=\"none\";this.Jp=this.tt=this.vn=this.Qo=null;navigator.msPointerEnabled||navigator.pointerEnabled?this.Qo=new ij(this.b):(this.Qo=new hj(this.b),this.vn=new qj(this.b));this.tt=new pj(this.b);this.Jp=new mj(this.b);this.b.kd(this.e,this);yb.call(this)}u(rj,yb);r(\"H.mapevents.MapEvents\",rj);var sj=[];\nrj.prototype.e=function(){this.b=null;this.Qo.e();this.tt.e();this.Jp.e();this.vn&&this.vn.e();sj.splice(sj.indexOf(this.b),1);yb.prototype.e.call(this)};rj.prototype.dispose=rj.prototype.e;rj.prototype.iv=function(){return this.b};rj.prototype.getAttachedMap=rj.prototype.iv;function tj(a,b){if(-1!==uj.indexOf(a))throw Error(\"InvalidArgument: events are already used\");var c=b||{},d;yb.call(this);this.b=d=a.b;this.Mw=a;uj.push(a);this.b.draggable=!0;this.lb=c.kinetics||{duration:600,$l:Ag};this.aq=7;this.enable(c.enabled||this.aq);c=R.EngineType;this.q=this.b.q;this.vi=this.q.element;this.M=this.b.M;this.Wn=c.P2D;d.addEventListener(\"dragstart\",this.lk,!1,this);d.addEventListener(\"drag\",this.Or,!1,this);d.addEventListener(\"dragend\",this.Pr,!1,this);d.addEventListener(\"wheel\",\nthis.Sr,!1,this);d.addEventListener(\"dbltap\",this.Nr,!1,this);d.addEventListener(\"tap\",this.Rr,!1,this);d.addEventListener(\"pointermove\",this.ds,!1,this);Fg(this.vi,\"contextmenu\",this.Mr,!1,this);a.kd(this.e,this)}u(tj,yb);r(\"H.mapevents.Behavior\",tj);var uj=[];tj.prototype.ca=0;tj.DRAGGING=1;tj.WHEELZOOM=2;tj.DBLTAPZOOM=4;m=tj.prototype;\nm.lk=function(a){var b=a.pointers;a=this.q;var c=b[0],b=b[1]||{};this.ca&1&&(a.startInteraction(17,this.lb),a.interaction(c.viewportX,c.viewportY,b.viewportX,b.viewportY),this.ca&2&&this.Ii(c.viewportX,c.viewportY))};m.Or=function(a){var b=a.pointers[0],c=a.pointers[1]||{};this.ca&1&&(this.q.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())};m.Pr=function(){this.ca&1&&this.q.endInteraction(!this.lb)};\nm.Ii=function(a,b){var c,d;this.fn&&(c=this.b.getZoom(),d=Math[0>this.fn?\"ceil\":\"floor\"](c),c!==d&&(this.fn=null,this.zoom(c,d,a,b)))};m.du=0.006;m.zoom=function(a,b,c,d){var e=this.b.M;if(isNaN(+a))throw Error(\"start zoom needs to be a number\");if(isNaN(+b))throw Error(\"to zoom needs to be a number\");0!==+b-+a&&(e.startControl(null,c,d),e.control(0,0,this.du),e.endControl(!0,function(a){a.zoom=b}))};\nm.Sr=function(a){var b,c,d,e;this.ca&2&&(b=a.delta,c=this.b.getZoom(),e=Math[0>b?\"ceil\":\"floor\"](c-b),d=this.b,d.jb().type===this.Wn?(this.zoom(c,e,a.viewportX,a.viewportY),this.fn=b):(c=this.b.M.Hc(),c.fov+=16*b,d.M.ad(c)),a.originalEvent.preventDefault())};m.Rr=function(a){a=a.currentPointer;this.Wn!==this.b.jb().type&&(a=this.b.Qe(a.viewportX,a.viewportY),this.b.M.ad(a))};m.ds=function(a){a=a.currentPointer;this.b.jb().setPointer(a.viewportX,a.viewportY)};\nm.Nr=function(a){var b=a.currentPointer,c=this.b.getZoom(),d=a.currentPointer.type;this.Wn===this.b.jb().type&&(a=\"mouse\"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=Math[0>a?\"ceil\":\"floor\"](c-a),this.ca&4&&this.zoom(c,a,b.viewportX,b.viewportY))};m.Mr=function(a){return this.ca&4?(a.preventDefault(),!1):!0};\nm.e=function(){var a=this.b;a&&(a.draggable=!1,a.removeEventListener(\"dragstart\",this.lk,!1,this),a.removeEventListener(\"drag\",this.Or,!1,this),a.removeEventListener(\"dragend\",this.Pr,!1,this),a.removeEventListener(\"wheel\",this.Sr,!1,this),a.removeEventListener(\"tap\",this.Rr,!1,this),a.removeEventListener(\"dbltap\",this.Nr,!1,this),a.removeEventListener(\"pointermove\",this.ds,!1,this),this.b=null);this.vi&&(this.vi.style.msTouchAction=\"\",Gg(this.vi,\"contextmenu\",this.Mr,!1,this),this.vi=null);this.lb=\nthis.q=null;uj.splice(uj.indexOf(this.Mw),1);yb.prototype.e.call(this)};tj.prototype.dispose=tj.prototype.e;tj.prototype.disable=function(a){this.q.endInteraction(!0);a?this.ca&a&&(this.ca-=a,a&1&&(this.b.draggable=!1)):(this.ca=0,this.b.draggable=!1)};tj.prototype.disable=tj.prototype.disable;tj.prototype.enable=function(a){a?this.ca&a||(this.ca+=a,a&1&&(this.b.draggable=!0)):(this.ca=this.aq,this.b.draggable=!0)};tj.prototype.enable=tj.prototype.enable;\ntj.prototype.isEnabled=function(a){if(isNaN(a))throw Error(\"behavior: number required\");return!!(this.ca&a)};tj.prototype.isEnabled=tj.prototype.isEnabled;r(\"H.mapevents.buildInfo\",function(){return Hi(\"mapsjs-mapevents\",\"0.12.5\",\"f79fdf2\")});\n");